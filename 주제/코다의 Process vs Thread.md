## 학습내용 
- 코다의 Process vs Thread : <https://www.youtube.com/watch?v=1grtWKqTn50>
## 순서
- 용어 개념 정리 (용어의 혼동에 빠지지말자)
- Process와 Thread
- Multi-process vs Multi-thread
- Multi-core
- 요약

## 사전의 용어 개념 정리
- 실행 단위 : cpu core에서 실행하는 하나의 단위로 프로세스와 스레를 포괄하는 개념
- 프로세스 : 하나의스레드만 가지고 있는 단일 스레드 프로세스
- 동시성 : 한 순간에 여러가지 일이 아니라, 짧은 전환으로 여러가지 일을 동시에 처리하는 것처럼 보이는 것
운영체제는 사용자 인터페이스 제공과 컴퓨터 시스템 자원 관리라는 기능을 수행한다. 그런데 여기서 컴퓨터 시스템 자원 관리는 중앙처리장치, 주기억장치, 보조기억장치, 프로그램, 파일 등 다양한 자원으로 이루어 지며, 운영체제는 이러한 자원을 관리한다. <br>
<img src="https://user-images.githubusercontent.com/79621675/151648130-66c1ad5a-9077-4b74-89fb-c109a84874a2.png" width=400 height=300/>

### 프로그램과 프로세스
프로그램은 보조기억장치에 저장되어 있다가 실행 명령을 받으면 주기억장치로 올라가 중앙처리장치에 의해 실행된다. <br>
프로세스란 실행되기 위해 주기억장치로 올라간 프로그램을 말한다. 즉, 실행 중인 프로그램이라고 정의할 수 있다.


### PCB
프로세스 제어 블록은 프로세스에 대한 정보를 저장하는 장소다. 프로세스가 생성되면 이 프로세스의 정보를 저장하는 새로운 프로세스 제어 블록이 생성되고, 프로세스가 종료 될 떄 같이 사라진다. 그림은 책 참고

## Process와 Thread
유튜브에서 노래를키고, 인텔리제이를 키고, 슬랙도 킵니다. 이렇게 대부분의 사람들은 하나의 프로세스만 사용하기보다 동시에 여러개를 사용하고싶어합니다. <br>
하지만 원래 한 프로세스가 실행되기 위해서 cpu를 점유하고 있으면 다른 프로세스는 실행 상태에있을 수 없다. <br>
그래서 다수의 프로세스를 동시에 실행하기위해 여러 개 프로세스를 시분할로 전환하면서 실행한다. <br>
이럴때 사용하는게 컨텍스트 스위칭 <br>
컨텍스트 스위칭으로 불편한점을 위해 나온게 경량화된 쓰레드 하나의 프로세스 안에 다수의 쓰레드가 있으면 공유되는 자원이 있어서 스택 부분만을 따로 가지고 있음 <br>
매우 효율적 컨텍스트 스위칭 일어날 때 캐싱 적중률이 올라간다.
<img src="https://user-images.githubusercontent.com/79621675/151648429-958479b4-7421-4c23-817f-6e59d1a330b7.png" width=400/>


## Multi-process vs Multi-thread

### Multi-process
<pre>
멀티 프로세스와 멀티 스레드는 이 두가지 개념이 모두 처리방식의 일종이다 한 어플리케이션에 대한 처리방식 이라고 생각한다. 
단순히 여러프로그램을 띄워 놓은걸 멀티프로세스라고 생각하면 이해하기 힘들다. 
멀티 프로세스는 하나의 응용 프로그램을 여러 개의 프로세스로 구성해 각 프로세스가 하나의 작업(Task)를 처리하도록 하는 것 프로세스는 기본적으로 하나의 쓰레드를 갖는다. 
부모 프레세스가 fork()해서 자식프로세스를 여러개 만들어서 일을 처리하도록 한다. 
</pre>
- 각 프로세스는 독립적
- IPC(프로세스 간 통신)를 사용한 통신
- 자원 소모적, 개별 메모리 차지(프로세스는 메모리 많이먹음)
- Context Switching 비용이 큼
- 동기화 작업이 필요하지 않음(독립적이기 때문에)


### Multi-thread
<pre>
쓰레드는 하나의 프로세스에서 여러개의 쓰레드가 있는것이다. 
인텔리제이에서 추천코드도 보여주고 코드도 작성해야한다. 이렇게 한 어플리케이션에대해 작업이 나누어지는 경우가 많다.
이때 각각의 쓰레드가 작업을 담당한다.
</pre>
- Thread끼리 긴말하게 연결되어 있음
- 공유된 자원으로 통신 비용 절감
- 공유된 자원으로 메모리가 효율적
- Context Switching 비용이 적음
- 공유 자원 관리를 해야함

### 예시
크롬은 멀티 프로세스이다. 메모리를 많이 먹는다. 그런데 인터넷 익스플로는 멀티스레드이다. 익스플로사용하면서 작동중지되면 하나의 쓰레드에 문제가 생겨서 다른것도 다 같이 꺼지는경우가있다. <br>
반면 크롬은 이런일이 발생하지 않지만 메모리를 많이먹는다.


## Multi-core
멀티프로세스랑 멀티스레드는 소프트웨어 분야의 관점에 가깝고 멀티코어는 하드웨어 관점에 가깝다. <br>
멀티코어와 관련된 키워드는 동시성과 병렬처리이다. <br>
싱글코어를가진 cpu가 동시처리하기위해 동시성으로 진행했다. (빠른전환으로) <br>
멀티코어는 병렬처리이다. 멀티코어는 물리적으로 여러 코어를 사용 해서 다수의 실행 단위(프로세스이든 쓰레드이든)를 한순간에 동시에 처리할 수 있게 해주는것이다.

## 정리
- 1. 프로세스는 프로그램이 실행된 것이다.
- 2. 스레드는 한 프로세스 내에서 나뉘어진 하나 이상의 실행 단위이다.
- 3. 한 어플리케이션에 대한 작업을 동시에 하기 위해서는 2가지 처리 방식(멀티 프로세스, 멀티 스레드)이 있다.
- 4. 동시에 실행이 되는 것처럼 보이기 위해서 실행 단위는 시분할로 cpu를 점유하며 context swtiching을 한다.
- 5. 멀티 프로세스는 독립적인 메모리를 가지고 있지만 멀티 스레드는 자원을 공유한다. 그것에 따른 각각의 장단점이 있다.
- 6. 멀티 코어는 하드웨어 측면에서 실행 단위를 병렬적으로 처리할 수 있도록 여러 프로세서가 있는 것이다. 


<https://wooody92.github.io/os/%EB%A9%80%ED%8B%B0-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EB%A9%80%ED%8B%B0-%EC%8A%A4%EB%A0%88%EB%93%9C/>

